(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var L={};"global"in L||(typeof window<"u"?L.global=window:typeof global<"u"?L.global=global:L.global={});"document"in L||typeof document<"u"&&(L.document=document);var c={...L,delegatedEvents:new Set};function N(t,e){return!e||t.length!==e.length?!1:t.every((n,i)=>!(n instanceof Object)&&e[i]===n)}var lt=t=>{const e=[];return G(t,n=>{e.push(n)}),e},G=(t,e)=>{const n=[...t].reverse();for(;n.length>0;){const i=n.pop();i instanceof HTMLElement||i instanceof Text?e(i):i._$nodes&&n.push(...[...i._$nodes].reverse())}},tt=(t,e)=>{t.forEach(n=>{"__type"in n&&(n._$parentEl=e,n._$nodes&&tt(n._$nodes,e))})},x=(t,e)=>{let n=0;const i=[...t].reverse();for(;i.length>0;){const r=i.pop();if(r===e)break;"__type"in r?r._$nodes&&i.push(...[...r._$nodes].reverse()):n++}return n},et=(t,e,n)=>n?z(t,e,n):ht(t,e),nt=(t,e,n,i)=>(i=i??e.childNodes.length,i!==n?z(t,e,e.childNodes[n]):ht(t,e)),z=(t,e,n)=>{let i=0;return G(t,r=>{e.insertBefore(r,n),i++}),i},ht=(t,e)=>{let n=0;return G(t,i=>{e.appendChild(i),n++}),n},J=(t,e)=>{const n=c.global.WillUnmountStore,i=n[n.length-1];i&&i.push(()=>e(t))},K=(t,e)=>{const n=c.global.DidUnmountStore,i=n[n.length-1];i&&i.push(()=>e(t))},yt=(t,e)=>{c.global.DidMountStore||(c.global.DidMountStore=[]),c.global.DidMountStore.push(()=>e(t))},O=()=>{const t=c.global.DidMountStore;if(!(!t||t.length===0)){for(let e=t.length-1;e>=0;e--)t[e]();c.global.DidMountStore=[]}};function m(t){return c.document.createElement(t)}function St(t,e,n){if(n.length===0)return!1;const i=`$${e}`;return N(n,t[i])?!0:(t[i]=n,!1)}function y(t,e,n,i){St(t,e,i)||(t[e]=n())}function Ft(t){const e=`$$${t.type}`;for(const n of t.composedPath())if(n[e]&&n[e](t),t.cancelBubble)return}function H(t,e,n){t[`$$${e}`]!==n&&(t[`$$${e}`]=n,c.delegatedEvents.has(e)||(c.delegatedEvents.add(e),c.document.addEventListener(e,Ft)))}function U(t,e,n){t._$nodes||(t._$nodes=Array.from(t.childNodes)),t._$nodes.splice(n,0,e);const i=x(t._$nodes,e);nt([e],t,i),tt([e],t)}var Et=Promise.resolve();function kt(t){Et.then(t)}var d=(t=>(t[t.Comp=0]="Comp",t[t.For=1]="For",t[t.Cond=2]="Cond",t[t.Exp=3]="Exp",t[t.Hook=4]="Hook",t[t.Context=5]="Context",t[t.Children=6]="Children",t))(d||{});function mt(){return{updateProp:j,updateState:j,__type:d.Comp,props:{},_$nodes:[]}}function j(){throw new Error("Component node not initiated.")}function Lt(t,{updateState:e,updateProp:n,updateContext:i,getUpdateViews:r,didUnmount:o,willUnmount:l,didMount:u}){return t.updateState=e,t.updateProp=n,t.updateContext=i,t.getUpdateViews=r,t.didUnmount=o,t.willUnmount=l,t.didMount=u,t}function gt(t){return t.mounting=!0,(()=>{if(At(t),t.didMount&&yt(t,t.didMount),t.willUnmount&&J(t,t.willUnmount),K(t,Dt.bind(null,t)),t.didUnmount&&K(t,t.didUnmount),t.getUpdateViews){const n=t.getUpdateViews();if(Array.isArray(n)){const[i,r]=n;t.updateView=r,t._$nodes=i}else t.updateView=n}})(),t}function Dt(t){t._$unmounted=!0}function At(t){t.updateState(-1),delete t.mounting}function Pt(t,e,n){"mounting"in t||(t.updateState(n||0),re()||Ht(t,n||0))}function Ht(t,e){var n;e&&("_$depNumsToUpdate"in t?(n=t._$depNumsToUpdate)==null||n.push(e):(t._$depNumsToUpdate=[e],kt(()=>{var r;if(t._$unmounted)return;const i=t._$depNumsToUpdate||[];if(i.length>0){const o=i.reduce((l,u)=>l|u,0);(r=t.updateView)==null||r.call(t,o)}delete t._$depNumsToUpdate})))}function Ot(t,e){return{updateProp:j,updateState:j,__type:d.Hook,props:{},_$nodes:[],bitmap:e,parent:t}}function Vt(t,e,n){"DLEnvStore"in c.global||(c.global.contextNodeMap=new Map);const i={value:e,depMap:n,context:t,__type:d.Context,consumers:new Set,_$nodes:[]};return bt(i),i}function Wt(t,e,n,i){if(It(t,i,e))return;const r=n();t.value[e]=r,t.consumers.forEach(o=>{o.updateContext(t.context,e,r)})}function It(t,e,n){return!e||!e.length?!1:N(e,t.depMap[n])?!0:(t.depMap[n]=e,!1)}function bt(t){t.prevValue=t.context.value,t.prevContextNode=c.global.contextNodeMap.get(t.context.id),t.context.value=t.value,c.global.contextNodeMap.set(t.context.id,t)}function st(t){for(const[e,n]of t.entries())bt(n)}function Bt(t){return{__type:d.Children,childrenFunc:t,updaters:new Set}}function qt(t){let e;const n=r=>{e=r,t.updaters.add(r)},i=t.childrenFunc(n);return i.length===0?[]:(e&&J(i[0],t.updaters.delete.bind(t.updaters,e)),i)}function zt(t,e){t.updaters.forEach(n=>{n(e)})}function it(){const t=c.global.contextNodeMap;return t?new Map([...t]):null}function at(t,e){tt(e,t._$parentEl)}function rt(t,e){if(!t.savedContextNodes){const r=e();return at(t,r),r}const n=c.global.contextNodeMap;st(t.savedContextNodes);const i=e();return st(n),at(t,i),i}function Q(){c.global.WillUnmountStore.push([]),c.global.DidUnmountStore.push([])}function ot(t,e){G(e,n=>{t._$parentEl.removeChild(n)})}function Kt(t,e,n,i){const r={__type:d.For,array:[...t],depNum:e,keys:n,nodeFunc:i,nodesMap:new Map,updateArr:[],didUnmountMap:new Map,willUnmountMap:new Map,savedContextNodes:it(),get _$nodes(){var l;const o=[];for(let u=0;u<r.array.length;u++)o.push(...r.nodesMap.get(((l=r.keys)==null?void 0:l[u])??u));return o}};return jt(r,i),r}function jt(t,e){t.array.forEach((n,i)=>{var l;Q();const r=((l=t.keys)==null?void 0:l[i])??i,o=e(n,i,t.updateArr);t.nodesMap.set(r,o),$t(t,r)}),V(t.willUnmountMap),V(t.didUnmountMap)}function V(t,e){var n;if(!t||t.size===0)if(typeof e=="number"){const i=t.get(e);if(!i)return;for(let r=0;r<i.length;r++)(n=i[r])==null||n.call(i);t.delete(e)}else t.forEach(i=>{var r;for(let o=i.length-1;o>=0;o--)(r=i[o])==null||r.call(i)}),t.clear()}function $t(t,e){const n=c.global.WillUnmountStore.pop();n&&n.length>0&&(t.willUnmountMap||(t.willUnmountMap=new Map),t.willUnmountMap.set(e,n));const i=c.global.DidUnmountStore.pop();i&&i.length>0&&(t.didUnmountMap||(t.didUnmountMap=new Map),t.didUnmountMap.set(e,i))}function Rt(t,e){if(~t.depNum&e)for(let n=0;n<t.array.length;n++)I(t,n,t.array,e)}function I(t,e,n,i){var r,o;(o=(r=t.updateArr)[e])==null||o.call(r,i??t.depNum,n[e])}function Gt(t,e,n){if(n){Qt(t,e,n);return}Jt(t,e)}function Z(t,e,n,i,r){Q();const o=rt(t,()=>t.nodeFunc(i[e],e,r??t.updateArr));return $t(t,n),t.nodesMap.set(n,o),o}function T(t,e,n){V(t.willUnmountMap,n),ot(t,e),V(t.didUnmountMap,n),t.nodesMap.delete(n)}function Jt(t,e){const n=t.array.length,i=e.length;if(n===i){for(let o=0;o<t.array.length;o++)I(t,o,e);t.array=[...e];return}const r=t._$parentEl;if(n<i){let o=x(r._$nodes,t);const l=r.childNodes.length;for(let u=0;u<i;u++){if(u<n){o+=x(t.nodesMap.get(u)),I(t,u,e);continue}const p=Z(t,u,u,e);nt(p,r,o,l)}O(),t.array=[...e];return}for(let o=0;o<i;o++)I(t,o,e);for(let o=i;o<n;o++){const l=t.nodesMap.get(o);T(t,l,o)}t.updateArr.splice(i,n-i),t.array=[...e]}function dt(t,e){return t.length!==e.length?!1:t.every((n,i)=>n===e[i])}function Qt(t,e,n){var g;if(n.length!==new Set(n).size)throw new Error("Inula-Next: Duplicate keys in for loop are not allowed");const i=t.keys;if(t.keys=n,dt(i,n)){for(let s=0;s<e.length;s++)I(t,s,e);t.array=[...e];return}const r=t._$parentEl;if(n.length===0){const s=r._$nodes??[];if(s.length===1&&s[0]===t)V(t.willUnmountMap),r.innerHTML="",V(t.didUnmountMap);else for(let a=0;a<i.length;a++){const b=i[a];T(t,t.nodesMap.get(b),b)}t.nodesMap.clear(),t.updateArr=[],t.array=[];return}const o=x(r._$nodes,t);if(i.length===0){const s=r.childNodes[o];for(let a=0;a<n.length;a++){const b=Z(t,a,n[a],e);et(b,r,s)}O(),t.array=[...e];return}const l=[],u=[];for(let s=0;s<i.length;s++){const a=i[s];if(t.keys.includes(a)){l.push(a),u.push(t.updateArr[s]);continue}T(t,t.nodesMap.get(a),a)}let p=r.childNodes.length,f=o;for(let s=0;s<t.keys.length;s++){const a=t.keys[s],b=l.indexOf(a);if(b!==-1){f+=x(t.nodesMap.get(a)),(g=u[b])==null||g.call(u,t.depNum,e[s]);continue}u.splice(s,0,null);const _=Z(t,s,a,e);l.splice(s,0,a);const F=nt(_,r,f,p);f+=F,p+=F}if(O(),dt(t.keys,l)){t.array=[...e],t.updateArr=u;return}f=o;const w=new Map;for(let s=0;s<t.keys.length;s++){const a=t.keys[s],b=l.indexOf(a),_=w.get(a);if(_){const v=x(_),M=lt(_).pop(),$=r.childNodes[f+v];M!==$&&M.nextSibling!==$&&z(_,r,$),f+=v}else if(b===s){f+=x(t.nodesMap.get(a));continue}else{const v=l[s];w.set(v,t.nodesMap.get(v));const M=t.nodesMap.get(a),$=lt(M).pop(),h=r.childNodes[f];$!==h&&$.nextSibling!==h&&(f+=z(M,r,h))}const F=l[s];l[s]=l[b],l[b]=F;const B=u[s];u[s]=u[b],u[b]=B}t.array=[...e],t.updateArr=u}function Ct(t){t.willUnmountFuncs=c.global.WillUnmountStore.pop(),t.didUnmountFuncs=c.global.DidUnmountStore.pop()}function R(t){for(let e=0;e<t.length;e++)t[e]()}function Xt(t){return t.__type===d.Children}function wt(t){return Array.isArray(t)||(t=[t]),t.flat(1).filter(e=>e!=null&&typeof e!="boolean").map(e=>typeof e=="string"||typeof e=="number"||typeof e=="bigint"?c.document.createTextNode(`${e}`):Xt(e)?qt(e):e).flat(1)}function Yt(t,e){Q();const n={__type:d.Exp,_$nodes:wt(t),deps:e,savedContextNodes:it(),willUnmountFuncs:[],didUnmountFuncs:[]};return Ct(n),n.willUnmountFuncs&&J(n,R.bind(n,n.willUnmountFuncs)),n.didUnmountFuncs&&K(n,R.bind(n,n.didUnmountFuncs)),n}function Zt(t,e,n){if(Tt(t,n))return;ot(t,t._$nodes);const i=rt(t,()=>wt(e()));if(i.length===0){t._$nodes=[];return}const r=t._$parentEl,o=x(r._$nodes,t),l=r.childNodes[o];et(i,r,l),O(),t._$nodes=i}function Tt(t,e){return!e||!e.length?!1:N(e,t.deps)?!0:(t.deps=e,!1)}function Nt(t,e){Q();const n={__type:d.Cond,cond:-1,didntChange:!1,depNum:t,condFunc:e,savedContextNodes:it(),_$nodes:[],willUnmountFuncs:[],didUnmountFuncs:[]};return n._$nodes=e(n),Ct(n),n.willUnmountFuncs&&J(n,R.bind(n,n.willUnmountFuncs)),n.didUnmountFuncs&&K(n,R.bind(n,n.didUnmountFuncs)),n}function te(t,e){var n;t.depNum&e||(n=t.updateFunc)==null||n.call(t,e)}function ee(t){var u;const e=[t.willUnmountFuncs,t.didUnmountFuncs],n=rt(t,()=>t.condFunc(t));if(t.didntChange){[t.willUnmountFuncs,t.didUnmountFuncs]=e,t.didntChange=!1,(u=t.updateFunc)==null||u.call(t,t.depNum);return}const i=[t.willUnmountFuncs,t.didUnmountFuncs];if([t.willUnmountFuncs,t.didUnmountFuncs]=e,t._$nodes&&t._$nodes.length>0&&ot(t,t._$nodes),[t.willUnmountFuncs,t.didUnmountFuncs]=i,n.length===0){t._$nodes=[];return}const r=t._$parentEl,o=x(r._$nodes,t),l=r.childNodes[o];et(n,r,l),O(),t._$nodes=n}function ne(){c.global.WillUnmountStore=[],c.global.DidUnmountStore=[]}function ie(t,e){if(e==null)throw new Error("Render target is empty. Please provide a valid DOM element.");ne(),e.innerHTML="";const n=k(t);U(e,n,0),O()}var S=null;function re(){return!!S}function k(t,e={}){return oe(()=>mt(),t,e)}function oe(t,e,n){const i=t(),r=S;try{S=i,e(n)}catch(o){throw o}finally{S=r}return i}function _t(t){if(!S||S.__type!==d.Comp)throw new Error("Should not call createComponent outside the component function");return Lt(S,t),S}function Ut(t,...e){switch(t){case d.Context:return Vt(...e);case d.Children:return Bt(...e);case d.Comp:return mt(...e);case d.Hook:return Ot(...e);case d.For:return Kt(...e);case d.Cond:return Nt(...e);case d.Exp:return Yt(...e);default:throw new Error(`Unsupported node type: ${t}`)}}function C(...t){const e=t[0];switch(e.__type){case d.Context:Wt(...t);break;case d.Children:zt(...t);break;case d.For:Gt(...t);break;case d.Cond:ee(...t);break;case d.Exp:Zt(...t);break;case d.Comp:case d.Hook:Pt(...t);break;default:throw new Error(`Unsupported node type: ${e.__type}`)}}function ue(...t){const e=t[0];switch(e.__type){case d.For:Rt(...t);break;case d.Cond:te(...t);break;default:throw new Error(`Unsupported node type: ${e.__type}`)}}const le=(()=>{let t,e,n,i,r,o,l,u,p,f;return t=m("div"),t.setAttribute("class","container"),e=m("div"),e.setAttribute("class","jumbotron"),n=m("div"),n.setAttribute("class","row"),i=m("div"),i.setAttribute("class","col-md-6"),r=m("h1"),r.textContent="Inula-next Keyed",i.appendChild(r),n.appendChild(i),o=m("div"),o.setAttribute("class","col-md-6"),l=m("div"),l.setAttribute("class","row"),o.appendChild(l),n.appendChild(o),e.appendChild(n),t.appendChild(e),u=m("table"),u.setAttribute("class","table table-hover table-striped test-data"),p=m("tbody"),u.appendChild(p),t.appendChild(u),f=m("span"),f.setAttribute("class","preloadicon glyphicon glyphicon-remove"),f.setAttribute("aria-hidden","true"),t.appendChild(f),t})(),se=(()=>{let t,e,n,i,r,o,l,u;return t=m("tr"),e=m("td"),e.className="col-md-1",t.appendChild(e),n=m("td"),n.className="col-md-4",i=m("a"),n.appendChild(i),t.appendChild(n),r=m("td"),r.className="col-md-1",o=m("a"),l=m("span"),l.className="glyphicon glyphicon-remove",l.setAttribute("aria-hidden","true"),o.appendChild(l),r.appendChild(o),t.appendChild(r),u=m("td"),u.className="col-md-6",t.appendChild(u),t})(),ae=(()=>{let t,e;return t=m("div"),t.setAttribute("class","col-sm-6 smallpad"),e=m("button"),e.setAttribute("class","btn btn-primary btn-block"),e.type="button",t.appendChild(e),t})();let de=1;const ct=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],pt=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],ft=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"];function X(t){return Math.round(Math.random()*1e3)%t}function Y(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]={id:de++,label:`${ct[X(ct.length)]} ${pt[X(pt.length)]} ${ft[X(ft.length)]}`};return e}function P({id:t,text:e,fn:n}){let i,r=t,o=e,l=n;return i=_t({updateState:u=>{},updateProp:(u,p)=>{u==="fn"?C(i,l=p,4):u==="text"?C(i,o=p,2):u==="id"&&C(i,r=p,1)},getUpdateViews:()=>{let u,p,f;return u=ae.cloneNode(!0),p=u.firstChild,y(p,"id",()=>r,[r]),H(p,"click",l),f=Ut(3,o,[o]),U(p,f,0),[[u],w=>(w&1&&p&&y(p,"id",()=>r,[r]),w&2&&f&&C(f,()=>o,[o]),w&4&&p&&H(p,"click",l),[u])]}}),gt(i)}function ce(){let t,e=[],n=null;function i(){C(t,e=Y(1e3),1)}function r(){C(t,e=Y(1e4),1)}function o(){C(t,e.push(...Y(1e3)),1)}function l(){for(let g=0;g<e.length;g+=10)C(t,e[g].label+=" !!!",1)}function u(){e.length>998&&C(t,[e[1],e[998]]=[e[998],e[1]],1)}function p(){C(t,e=[],1)}function f(g){C(t,e=e.filter(s=>s.id!==g),1)}function w(g){C(t,n=g,2)}return t=_t({updateState:g=>{},getUpdateViews:()=>{let g,s,a,b,_,F,B,v,M,$;return g=le.cloneNode(!0),s=g.firstChild.nextSibling.firstChild,a=g.firstChild.firstChild.firstChild.nextSibling.firstChild,b=k(P,{id:"run",text:"Create 1,000 rows",fn:i}),U(a,b,0),_=k(P,{id:"runlots",text:"Create 10,000 rows",fn:r}),U(a,_,1),F=k(P,{id:"add",text:"Append 1,000 rows",fn:o}),U(a,F,2),B=k(P,{id:"update",text:"Update every 10th row",fn:l}),U(a,B,3),v=k(P,{id:"clear",text:"Clear",fn:p}),U(a,v,4),M=k(P,{id:"swaprows",text:"Swap Rows",fn:u}),U(a,M,5),$=Ut(1,e,1,null,({id:h,label:W},xt,vt)=>{let D,A,E,q;return vt[xt]=(ut,Mt)=>{({id:h,label:W}=Mt),ut&1&&(A&&y(A,"textContent",()=>h,[h]),E&&H(E,"click",w.bind(this,h)),E&&y(E,"textContent",()=>W,[W]),q&&H(q,"click",f.bind(this,h))),ut&3&&D&&y(D,"className",()=>n===h?"danger":"",[n,h])},D=se.cloneNode(!0),A=D.firstChild,E=A.nextSibling.firstChild,q=A.nextSibling.nextSibling.firstChild,y(D,"className",()=>n===h?"danger":"",[n,h]),y(A,"textContent",()=>h,[h]),H(E,"click",w.bind(this,h)),y(E,"textContent",()=>W,[W]),H(q,"click",f.bind(this,h)),[D]}),U(s,$,0),[[g],h=>(h&1&&$&&C($,e,null),$&&ue($,h),[g])]}}),gt(t)}ie(ce,document.getElementById("main"));
